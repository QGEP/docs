<!DOCTYPE html>
<html class="writer-html5" lang="fr" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>7.6. Generate SWMM File &mdash; Documentation QGEP 0.8</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=286ea6f5"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/translations.js?v=041d0952"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Recherche" href="../search.html" />
    <link rel="next" title="7.7. Check SWMM File" href="Check-SWMM-File.html" />
    <link rel="prev" title="7.4. Prepare Data" href="Prepare-Data.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            QGEP
          </a>
              <div class="version">
                0.7
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Rechercher docs" aria-label="Rechercher docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../features-guide/index.html">1. TEKSI wastewater module (QGEP)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation-guide/index.html">2. Guide d’installation de QGEP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/index.html">3. Guide d’utilisateur de QGEP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/index.html">4. Guide d’administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vm/index.html">5. Machine virtuelle de démonstration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../wincan2qgep/index.html">6. Plugin Wincan 2 QGEP</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">7. SWMM Data Exchange</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="SWMM.html">7.1. Storm Water Management Model (SWMM)</a></li>
<li class="toctree-l2"><a class="reference internal" href="QGEP-SWMM-installation.html">7.2. QGEP-SWMM installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="QGEP-SWMM-workflow.html">7.3. QGEP-SWMM workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="Prepare-Data.html">7.4. Prepare Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="Prepare-Data.html#qgep-swmm-data-requirements">7.5. QGEP-SWMM data requirements</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">7.6. Generate SWMM File</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#swmm-create-input">7.6.1. SWMM Create Input</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#qgep-plugin">7.6.1.1. QGEP plugin</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#selection">7.6.2. Selection</a></li>
<li class="toctree-l3"><a class="reference internal" href="#change-default-export-parameters">7.6.3. Change default export parameters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Check-SWMM-File.html">7.7. Check SWMM File</a></li>
<li class="toctree-l2"><a class="reference internal" href="Run-SWMM-Simulation.html">7.8. Run SWMM Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="Process-Results.html">7.9. Import results</a></li>
<li class="toctree-l2"><a class="reference internal" href="Mapping.html">7.10. Mapping</a></li>
<li class="toctree-l2"><a class="reference internal" href="Developpers-Advanced-Users.html">7.11. For developpers and advanced users</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../translation/index.html">8. Traduction</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">QGEP</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html"><span class="section-number">7. </span>SWMM Data Exchange</a></li>
      <li class="breadcrumb-item active"><span class="section-number">7.6. </span>Generate SWMM File</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/qgep_swmm/Generate-SWMM-File.rst.txt" rel="nofollow"> Afficher la source de la page</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="generate-swmm-file">
<span id="id1"></span><h1><span class="section-number">7.6. </span>Generate SWMM File<a class="headerlink" href="#generate-swmm-file" title="Lien vers cette rubrique"></a></h1>
<section id="swmm-create-input">
<span id="create-input"></span><h2><span class="section-number">7.6.1. </span>SWMM Create Input<a class="headerlink" href="#swmm-create-input" title="Lien vers cette rubrique"></a></h2>
<ul class="simple">
<li><p>By default, the plugin extracts the entire primary wastewater structures. If you check <em>Export only selected network</em>, then both the selected primary and secondary network will be exported.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">.inp</span></code> file is the input file format for SWMM. It contains the wastewater network AND simulation parameters. The network can be extracted from the QGEP data, but the simulation parameters must be set according to your study.</p></li>
<li><p>The simulation parameters are copied from a provided template <code class="docutils literal notranslate"><span class="pre">.inp</span></code> file. A default file is provided in the plugin folder in <code class="docutils literal notranslate"><span class="pre">src\swmm_templates\default_qgep_swmm_parameters.inp</span></code>, but you can create and use your own template file.</p></li>
<li><p>By default, the export supposes that you use an <em>Horton Infiltration method</em>. If another method is set in the template <code class="docutils literal notranslate"><span class="pre">.inp</span></code>, you might need to adapt the generated <code class="docutils literal notranslate"><span class="pre">.inp</span></code>. See the linked <a class="reference external" href="https://github.com/QGEP/QGEP/issues/644/">issue</a></p></li>
</ul>
<section id="qgep-plugin">
<h3><span class="section-number">7.6.1.1. </span>QGEP plugin<a class="headerlink" href="#qgep-plugin" title="Lien vers cette rubrique"></a></h3>
<p>Launch <code class="docutils literal notranslate"><span class="pre">SWMM</span> <span class="pre">Create</span> <span class="pre">Input</span></code>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Database</span></code>: the name of the service used to connect to the database</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">State</span></code>: Current or Planned: extract the wastewater structure according to the status</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Template</span> <span class="pre">INP</span> <span class="pre">file</span></code>: a <code class="docutils literal notranslate"><span class="pre">.inp</span></code> from which simulation parameters will be copied</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Destination</span> <span class="pre">INP</span> <span class="pre">file</span></code>: the <code class="docutils literal notranslate"><span class="pre">.inp</span></code> generated from QGEP data</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Export</span> <span class="pre">only</span> <span class="pre">selected</span> <span class="pre">network</span></code>: Export primary and secondary selected network</p></li>
</ul>
</section>
</section>
<section id="selection">
<h2><span class="section-number">7.6.2. </span>Selection<a class="headerlink" href="#selection" title="Lien vers cette rubrique"></a></h2>
<p>Usually you will select a subnetwork to be exported with the QGEP button <code class="docutils literal notranslate"><span class="pre">Upstream</span></code> and then <code class="docutils literal notranslate"><span class="pre">Select</span> <span class="pre">current</span> <span class="pre">path</span></code>.
If you want to remove from this selection secondary structures:</p>
<ul class="simple">
<li><p>Open <code class="docutils literal notranslate"><span class="pre">Selection</span> <span class="pre">by</span> <span class="pre">expression</span></code>  on the layer <code class="docutils literal notranslate"><span class="pre">vw_qgep_reach</span></code></p></li>
<li><p>Expression:  <code class="docutils literal notranslate"><span class="pre">&quot;ch_function_hierarchic&quot;</span>&#160; <span class="pre">in</span> <span class="pre">(5066,</span> <span class="pre">5068,</span> <span class="pre">5069,</span> <span class="pre">5070,</span> <span class="pre">5064,</span> <span class="pre">5071,</span> <span class="pre">5062,</span> <span class="pre">5072,</span> <span class="pre">5074)</span></code></p></li>
<li><p>Choose: <code class="docutils literal notranslate"><span class="pre">filter</span> <span class="pre">current</span> <span class="pre">selection</span></code></p></li>
<li><p>Open <code class="docutils literal notranslate"><span class="pre">Selection</span> <span class="pre">by</span> <span class="pre">expression</span></code>  on the layer <code class="docutils literal notranslate"><span class="pre">vw_qgep_wastewater_structure</span></code></p></li>
<li><p>Expression:  <code class="docutils literal notranslate"><span class="pre">&quot;_channel_function_hierarchic&quot;</span> <span class="pre">in</span> <span class="pre">(5066,</span> <span class="pre">5068,</span> <span class="pre">5069,</span> <span class="pre">5070,</span> <span class="pre">5064,</span> <span class="pre">5071,</span> <span class="pre">5062,</span> <span class="pre">5072,</span> <span class="pre">5074)</span></code></p></li>
<li><p>Choose: <code class="docutils literal notranslate"><span class="pre">filter</span> <span class="pre">current</span> <span class="pre">selection</span></code></p></li>
</ul>
</section>
<section id="change-default-export-parameters">
<span id="id2"></span><h2><span class="section-number">7.6.3. </span>Change default export parameters<a class="headerlink" href="#change-default-export-parameters" title="Lien vers cette rubrique"></a></h2>
<p>As mentionned earlier, most of the simulation parameters are copied from the template <code class="docutils literal notranslate"><span class="pre">.inp</span></code> file.</p>
<p>Remaining default parameters are currently hard coded in the views within the database <code class="docutils literal notranslate"><span class="pre">qgep_swmm</span></code> schema.
The defaults parameters can be edited directly in the view (with PgAdmin).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The default parameters modified in the views and modified views in general will be overwritten during a datamodel update.</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Pied de page">
        <a href="Prepare-Data.html" class="btn btn-neutral float-left" title="7.4. Prepare Data" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Précédent</a>
        <a href="Check-SWMM-File.html" class="btn btn-neutral float-right" title="7.7. Check SWMM File" accesskey="n" rel="next">Suivant <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Droits d'auteur 2023, The QGEP Project www.teksi.ch.</p>
  </div>

  Compilé avec <a href="https://www.sphinx-doc.org/">Sphinx</a> en utilisant un
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">thème</a>
    fourni par <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>